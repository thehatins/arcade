function snakeGame(){const t=document.getElementById("wod8s"),_=(t.style.display="block",document.getElementById("mt5kj")),n=document.getElementById("do9wk");let o;const D=document.getElementById("fd7nw"),l=document.getElementById("smg8q"),s=document.querySelector(".g8sb5 span");let{blockSize:r,total_row:a,total_col:e,height:H,width:K}=J(),d,i,c,h,p,y,m,u,f,g,w,v,L,b,x,S,k,I;const N=[{ability:"fast",icon:"f3ccd"},{ability:"slow",icon:"v0lmw"},{ability:"doubleScore",icon:"ja3mc"},{ability:"halfScore",icon:"wm8ft"}];let E,M,A,q,P,B;const T=()=>{if(!(I||k||S)){if(d==f&&i==g&&(L.push([f,g]),_.insertAdjacentHTML("beforeend",`<div class="p1x3l snpx1" style="left:${f}px;top:${g}px"><div class="flw3r f00d${w}"></div></div>`),s.textContent=(b+=x).toString(),X(),5===b)&&Y(),d==E&&i==M){switch(q.ability){case"doubleScore":x=2,s.classList.add("db9jr");break;case"halfScore":x=.5,s.classList.add("h3np9");break;case"fast":G(100),o.classList.add("hyp3r");break;case"slow":G(250),o.classList.add("sl33p");break}C(),E=-1,M=-1,l.classList.remove("in0ut")}for(let e=L.length-1;0<e;e--)L[e]=L[e-1];if(L.length&&(L[0]=[d,i]),d+=c*r,i+=h*r,d<0||d>=K||i<0||i>=H)F();else{for(let e=0;e<L.length;e++)if(d==L[e][0]&&i==L[e][1])return void F();o.style.left=d+"px",o.style.top=i+"px";for(let e=0;e<L.length;e++){var t=document.querySelector(`.snpx1:nth-child(${e+2})`);t.style.left=L[e][0]+"px",t.style.top=L[e][1]+"px"}}}},G=e=>{clearInterval(v),v=setInterval(T,e),gameAnimations.push(v)},V=()=>{n.classList.remove("fls8n"),n.style.setProperty("--t6ds2","50%"),n.style.setProperty("--kd5vz","100%"),n.style.setProperty("--bp2no","100%")},C=()=>{A=!0;var e=`<ul id="8ur5t" style="left:${d}px;top:${i}px"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>`;l.insertAdjacentHTML("afterend",e),n.classList.add("fls8n"),B=()=>{var e,e=parseInt(n.style.getPropertyValue("--t6ds2")||"50%"),t=parseInt(n.style.getPropertyValue("--kd5vz")||"100%"),l=parseInt(n.style.getPropertyValue("--bp2no")||"100%");0<e?n.style.setProperty("--t6ds2",--e+"%"):0<t?n.style.setProperty("--kd5vz",`${t-=2}%`):0<l?n.style.setProperty("--bp2no",--l+"%"):(clearInterval(P),V(),x=1,G(150),A=!1,q=null,o.classList.remove("hyp3r","sl33p"),s.classList.remove("db9jr","h3np9"),null!=(e=document.getElementById("8ur5t"))&&e.remove())},P=setInterval(B,50)},$=(e,t,l)=>{var n;k||S||((n=document.querySelector(".snpx1:nth-child(1)")).classList.remove("h34d-up","h34d-down","h34d-left","h34d-right"),n.classList.add("h34d-"+l),c=e,h=t,T(),I=!0,setTimeout(()=>I=!1,100))},z=e=>{"Enter"===e.key&&S?W():"p"===e.key?j(!k):"ArrowUp"==e.code&&1!=h?$(0,-1,"up"):"ArrowRight"==e.code&&-1!=c?$(1,0,"right"):"ArrowDown"==e.code&&-1!=h?$(0,1,"down"):"ArrowLeft"==e.code&&1!=c&&$(-1,0,"left")},O=()=>{Math.abs(p-m)>Math.abs(y-u)?(m<p&&z(new KeyboardEvent("keydown",{code:"ArrowLeft"})),m>p&&z(new KeyboardEvent("keydown",{code:"ArrowRight"}))):(u<y&&z(new KeyboardEvent("keydown",{code:"ArrowUp"})),u>y&&z(new KeyboardEvent("keydown",{code:"ArrowDown"})))},R=(t.addEventListener("touchstart",e=>{k||(e.preventDefault(),p=e.changedTouches[0].screenX,y=e.changedTouches[0].screenY)},{passive:!1}),t.addEventListener("touchend",e=>{k||(e.preventDefault(),m=e.changedTouches[0].screenX,u=e.changedTouches[0].screenY,O())},{passive:!1}),()=>{var l=[];for(let t=0;t<e*r;t+=r)for(let e=0;e<a*r;e+=r)d===t||f===t||i===e||g===e||L.some(l=>[t,e].every((e,t)=>e===l[t]))||l.push([t,e]);return l[Math.floor(Math.random()*l.length)]}),U=(e,t,l)=>{e.style.left=t+"px",e.style.top=l+"px",e.style.animation="none",e.offsetHeight,e.style.animation=null},X=()=>{[f,g]=R(),U(D,f,g),w=Math.floor(9*Math.random())+1,D.className="p1x3l f00d"+w},Y=()=>{var e;k||S||(e=Math.floor(4*Math.random())+1,null!=q)||A||e%2!=0||(q=N[Math.floor(Math.random()*N.length)],[E,M]=R(),U(l,E,M),l.className="p1x3l in0ut "+q.icon,l.addEventListener("animationend",()=>{0===getStyle(l,"opacity")&&(q=null,E=-1,M=-1)})),gameAnimations.push(setTimeout(Y,5e3))},W=()=>{d=Math.floor(e/2)*r,i=Math.floor(a/2)*r,c=h=0,p=y=m=u=0,b=0,E=M=-1,L=[],S=!1,q=null,A=!1,x=1,s.textContent="0",_.innerHTML=`<div class="p1x3l snpx1 sh34d h34d-right" style="left:${d}px;top:${i}px"></div>`,o=document.querySelector(".snpx1:nth-child(1)"),l.className="p1x3l",s.className="",handleGameOver(!1),clearAnimations(!0),V(),X(),v=setInterval(T,150),gameAnimations.push(v),addListener(document,"keydown",z),addListener(window,"resize",()=>({blockSize:r,total_row:a,total_col:e,height:H,width:K}=J())),addListener(document.querySelector(".pmx7g"),"pointerup",W),addListener(t.querySelector(".lp5gq"),"pointerdown",()=>j(!k)),addListener(t.querySelector(".qm2id"),"pointerdown",()=>j(!0)),addListener(t.querySelector(".ps4lt"),"pointerdown",()=>j(!1)),addListener(document.getElementById("p3lf8"),"pointerdown",()=>j(!0)),addListener(document.getElementById("s9nf7"),"pointerdown",()=>j(!1))},j=e=>{k=e,t.querySelector(".lp5gq").classList.toggle("pls8f");var e=k?"paused":"running";l.style.animationPlayState=e,k?clearInterval(P):P=setInterval(B,50)},F=()=>{handleGameOver(!0,b),clearAnimations(!1),clearInterval(P),l.style.animationPlayState="paused",S=!0};W(),t.querySelector(".ivn7f").classList.contains("a9mch")&&j(!0)}const J=()=>{var e=document.getElementById("wod8s"),t=document.getElementById("do9wk"),l=Math.min(Math.floor(window.innerWidth/10),50),n=(e.style.setProperty("--zod8n",l+"px"),Math.floor(.8*getStyle(e,"height")/l)),e=Math.floor(.9*getStyle(e,"width")/l),o=n*l,s=e*l;return t.style.width=s+"px",t.style.height=o+"px",t.parentElement.style.height=t.style.height,t.parentElement.style.width=t.style.width,{blockSize:l,total_row:n,total_col:e,height:o,width:s}};