function snakeGame(){const t=document.getElementById("wod8s"),_=(t.style.display="block",document.getElementById("mt5kj")),l=document.getElementById("do9wk");let o;const D=document.getElementById("fd7nw"),n=document.getElementById("smg8q"),s=document.querySelector(".g8sb5 span");let{blockSize:r,total_row:a,total_col:d,height:G,width:H}=J(),i,c,h,p,y,m,e,u,v=[],w=0,f=1,g=!1,b=!1,x=!1;const K=[{ability:"fast",icon:"f3ccd"},{ability:"slow",icon:"v0lmw"},{ability:"doubleScore",icon:"ja3mc"},{ability:"halfScore",icon:"wm8ft"}];let L,E,k,S,I,M;const A=()=>{if(!(x||b||g)){if(i==y&&c==m&&(v.push([y,m]),_.insertAdjacentHTML("beforeend",`<div class="p1x3l snpx1" style="left:${y}px;top:${m}px"><div class="flw3r f00d${e}"></div></div>`),s.textContent=(w+=f).toString(),X(),5===w)&&Y(),i==L&&c==E){switch(S.ability){case"doubleScore":f=2,s.classList.add("db9jr");break;case"halfScore":f=.5,s.classList.add("h3np9");break;case"fast":N(100),o.classList.add("hyp3r");break;case"slow":N(250),o.classList.add("sl33p");break}C(),L=-1,E=-1,n.classList.remove("in0ut")}for(let e=v.length-1;0<e;e--)v[e]=v[e-1];if(v.length&&(v[0]=[i,c]),i+=h*r,c+=p*r,i<0||i>=H||c<0||c>=G)F();else{for(let e=0;e<v.length;e++)if(i==v[e][0]&&c==v[e][1])return void F();o.style.left=i+"px",o.style.top=c+"px";for(let e=0;e<v.length;e++){var t=document.querySelector(`.snpx1:nth-child(${e+2})`);t.style.left=v[e][0]+"px",t.style.top=v[e][1]+"px"}}}},N=e=>{clearInterval(u),u=setInterval(A,e),gameAnimations.push(u)},V=()=>{l.classList.remove("fls8n"),l.style.setProperty("--t6ds2","50%"),l.style.setProperty("--kd5vz","100%"),l.style.setProperty("--bp2no","100%")},C=()=>{k=!0;var e=`<ul id="8ur5t" style="left:${i}px;top:${c}px"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>`;n.insertAdjacentHTML("afterend",e),l.classList.add("fls8n"),M=()=>{var e,e=parseInt(l.style.getPropertyValue("--t6ds2")||"50%"),t=parseInt(l.style.getPropertyValue("--kd5vz")||"100%"),n=parseInt(l.style.getPropertyValue("--bp2no")||"100%");0<e?l.style.setProperty("--t6ds2",--e+"%"):0<t?l.style.setProperty("--kd5vz",`${t-=2}%`):0<n?l.style.setProperty("--bp2no",--n+"%"):(clearInterval(I),V(),f=1,N(150),k=!1,S=null,o.classList.remove("hyp3r","sl33p"),s.classList.remove("db9jr","h3np9"),null!=(e=document.getElementById("8ur5t"))&&e.remove())},I=setInterval(M,50)},q=(e,t,n)=>{var l;b||g||((l=document.querySelector(".snpx1:nth-child(1)")).classList.remove("h34d-up","h34d-down","h34d-left","h34d-right"),l.classList.add("h34d-"+n),h=e,p=t,A(),x=!0,setTimeout(()=>x=!1,100))},P=e=>{"Enter"===e.key&&g?W():"p"===e.key?j(!b):"ArrowUp"==e.code&&1!=p?q(0,-1,"up"):"ArrowRight"==e.code&&-1!=h?q(1,0,"right"):"ArrowDown"==e.code&&-1!=p?q(0,1,"down"):"ArrowLeft"==e.code&&1!=h&&q(-1,0,"left")};let B=0,T=0,$=0,z=0;const O=()=>{Math.abs(B-$)>Math.abs(T-z)?($<B&&P(new KeyboardEvent("keydown",{code:"ArrowLeft"})),$>B&&P(new KeyboardEvent("keydown",{code:"ArrowRight"}))):(z<T&&P(new KeyboardEvent("keydown",{code:"ArrowUp"})),z>T&&P(new KeyboardEvent("keydown",{code:"ArrowDown"})))},R=(t.addEventListener("touchstart",e=>{b||(e.preventDefault(),B=e.changedTouches[0].screenX,T=e.changedTouches[0].screenY)},{passive:!1}),t.addEventListener("touchend",e=>{b||(e.preventDefault(),$=e.changedTouches[0].screenX,z=e.changedTouches[0].screenY,O())},{passive:!1}),()=>{var n=[];for(let t=0;t<d*r;t+=r)for(let e=0;e<a*r;e+=r)i===t||y===t||c===e||m===e||v.some(n=>[t,e].every((e,t)=>e===n[t]))||n.push([t,e]);return n[Math.floor(Math.random()*n.length)]}),U=(e,t,n)=>{e.style.left=t+"px",e.style.top=n+"px",e.style.animation="none",e.offsetHeight,e.style.animation=null},X=()=>{[y,m]=R(),U(D,y,m),e=Math.floor(9*Math.random())+1,D.className="p1x3l f00d"+e},Y=()=>{var e;b||g||(e=Math.floor(4*Math.random())+1,null!=S)||k||e%2!=0||(S=K[Math.floor(Math.random()*K.length)],[L,E]=R(),U(n,L,E),n.className="p1x3l in0ut "+S.icon,n.addEventListener("animationend",()=>{0===getStyle(n,"opacity")&&(S=null,L=-1,E=-1)})),gameAnimations.push(setTimeout(Y,5e3))},W=()=>{var e;handleGameOver(!1),clearAnimations(!0),i=Math.floor(d/2)*r,c=Math.floor(a/2)*r,h=0,p=0,w=0,L=-1,E=-1,v=[],g=!1,s.textContent="0",_.innerHTML=`<div class="p1x3l snpx1 sh34d h34d-right" style="left:${i}px;top:${c}px"></div>`,o=document.querySelector(".snpx1:nth-child(1)"),V(),S=null,k=!1,f=1,n.className="p1x3l",s.className="",X(),addListener(document,"keydown",P),document.querySelector(".pmx7g").addEventListener("pointerup",snakeGame),addListener(window,"resize",()=>({blockSize:r,total_row:a,total_col:d,height:G,width:H}=J())),t.querySelector(".lp5gq").addEventListener("pointerdown",()=>j(!b)),t.querySelector(".qm2id").addEventListener("pointerdown",()=>j(!0)),t.querySelector(".ps4lt").addEventListener("pointerdown",()=>j(!1)),document.getElementById("p3lf8").addEventListener("pointerdown",()=>j(!0)),document.getElementById("s9nf7").addEventListener("pointerdown",()=>j(!1)),u=setInterval(A,150),gameAnimations.push(u)},j=e=>{var e=(b=e)?"paused":"running";n.style.animationPlayState=e,b?clearInterval(I):I=setInterval(M,50)},F=()=>{handleGameOver(!0,w),clearAnimations(!1),clearInterval(I),n.style.animationPlayState="paused",g=!0};W(),t.querySelector(".ivn7f").classList.contains("a9mch")&&j(!0)}const J=()=>{var e=document.getElementById("wod8s"),t=document.getElementById("do9wk"),n=Math.min(Math.floor(window.innerWidth/10),50),l=(e.style.setProperty("--zod8n",n+"px"),Math.floor(.8*getStyle(e,"height")/n)),e=Math.floor(.9*getStyle(e,"width")/n),o=l*n,s=e*n;return t.style.width=s+"px",t.style.height=o+"px",t.parentElement.style.height=t.style.height,t.parentElement.style.width=t.style.width,{blockSize:n,total_row:l,total_col:e,height:o,width:s}};