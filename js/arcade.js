const o=document.querySelector(".gld85"),r=[{name:"tower",scores:[]},{name:"snake",scores:[]},{name:"jump",scores:[]}];let a,l=1,gameAnimations=[],s=[],y,u=!1;const p=e=>{-1<["Space","ArrowUp","ArrowDown"].indexOf(e.code)&&e.preventDefault()},n=(window.addEventListener("resize",()=>{t(!1,0,!1)}),document.getElementById("djf9g").addEventListener("click",()=>{t(!0,-60,!0)}),document.getElementById("r9ghh").addEventListener("click",()=>{t(!0,60,!0)}),e=>{"ArrowLeft"===e.key?t(!0,-60,!0):"ArrowRight"===e.key&&t(!0,60,!0)}),c=(document.addEventListener("keydown",n),setInterval(()=>t(!0,60,!1),5e3)),t=(document.querySelectorAll(".bwz8l").forEach(e=>{e.addEventListener("click",()=>{if(u)return;clearInterval(c),document.addEventListener("keydown",p),document.removeEventListener("keydown",n),document.getElementById("gif88").style.display="block",document.querySelectorAll(".lp5gq").forEach(e=>{e.classList.remove("pls8f")}),u=!0;var e=()=>{var e=JSON.parse(localStorage.getItem("gu1d3"));null==e[t]&&(document.querySelector(`#${t} .ivn7f`).classList.add("a9mch"),e[t]=!0,localStorage.setItem("gu1d3",JSON.stringify(e)))};let t;switch(l){case 1:t="t5vv8",e(),towerGame();break;case 2:t="wod8s",e(),snakeGame();break;case 3:t="jls41",e(),jumpGame();break;default:break}document.getElementById(t).style.display="block"})}),document.getElementById("gp9bd").addEventListener("pointerdown",()=>{document.querySelectorAll(".gg8s3").forEach(e=>e.style.display="none"),document.getElementById("gif88").style.display="none",document.querySelector(".g8sb5 span").textContent="0",document.querySelectorAll(".ivn7f").forEach(e=>e.classList.remove("a9mch")),handleGameOver(!1),clearAnimations(!0),u=!1,document.removeEventListener("keydown",p),document.addEventListener("keydown",n)}),document.querySelectorAll(".qm2id").forEach(t=>{t.addEventListener("pointerdown",e=>{e.stopPropagation(),t.parentElement.nextElementSibling.classList.add("a9mch")})}),document.querySelectorAll(".ps4lt").forEach(t=>{t.addEventListener("pointerdown",e=>{e.stopPropagation(),t.parentElement.classList.remove("a9mch")})}),(e,t,n)=>{n&&clearInterval(c);var n=document.documentElement.style.getPropertyValue("--o3mfv")||"0deg",n=parseInt(n,10)+t,t,e;l=Math.abs((n%180+180)%180)/60+1,a=r[l-1],e?(document.body.classList.add("t8gg4"),document.documentElement.style.setProperty("--o3mfv",n+"deg"),g(l)):(document.body.classList.remove("t8gg4"),t=Math.abs((n%360+360)%360)/60+1,e=document.querySelector(`.sid7g:nth-child(${t})`).getBoundingClientRect().height+20,document.documentElement.style.setProperty("--sl8hf",e+"px"))});function addListener(e,t,n){e.addEventListener(t,n),s.push({elem:e,name:t,callback:n})}function getStyle(e,t){if(null!=e)return parseInt(window.getComputedStyle(e).getPropertyValue(t))}var e=getStyle(null,null);function clearAnimations(e){for(var t=window.requestAnimationFrame(()=>{});t--;)window.cancelAnimationFrame(t);gameAnimations.forEach(e=>{clearInterval(e),clearTimeout(e)}),gameAnimations=[],e&&(s.forEach(e=>{e.elem.removeEventListener(e.name,e.callback)}),s=[])}function handleGameOver(e,t=0){let n;e?(o.style.display="flex",n=.2,d(t)):(o.style.display="none",document.querySelectorAll(".ncy5s").forEach(e=>e.style.display="none"),n=1),document.querySelectorAll(".gp3a2").forEach(e=>e.style.filter=`saturate(${n})`)}const d=e=>{var t,e;0===e||(t=t=>a.scores.find(e=>e.name==t.name&&e.score===t.score))(e={name:y,score:e,rank:0,timestamp:Date.now()})||(a.scores.push(e),a.scores=a.scores.sort((e,t)=>t.score-e.score||e.timestamp-t.timestamp).slice(0,10),t(e)&&(document.querySelectorAll(".ncy5s").forEach(e=>e.style.display="block"),document.getElementById("b1k8f").classList.add("lw8gm"),a.scores.map(e=>e.rank=0),m(e)))},m=e=>{var t=new FormData,e=(t.append("game",a.name),t.append("name",e.name),t.append("score",e.score.toString()),t.append("timestamp",Date.now().toString()),"https://script.google.com/macros/s/AKfycbzROM9yHlsQvFuDKnxJQVeI1uyGPK-yj9ZePWO1WRVgc2Jx1E1CWl0Ew7FadYgWSVXELQ/exec");fetch(e,{method:"POST",body:t}).then(()=>g(l))},E=["ASS","FUC","FUK","FUQ","FUX","FCK","COC","COK","COQ","DIC","DIK","DIQ","DIX","FAG","NIG","CNT","SHT","TWT","CUM","CLT","KUM","JIZ","JZZ","GAY","GEY","GEI","GAI","VAG","FAP","PRN","JEW","PUS","PIS","PSS","TIT","WOP","KIK","KYK","KYC","KYQ","DYK","DYQ","DYC","KKK","JYZ","GIZ","GZZ","SEX","SXX","SXY","XXX","VAJ","POO","SAC","PMS","WTF"];var i=()=>{const e=document.getElementById("m837c"),t=document.getElementById("ply3r"),o=document.querySelectorAll(".p3mf8");var n=document.getElementById("s9nf7"),r;let a;const l=n=>{o.forEach((e,t)=>e.textContent=n[t]),o[0].parentElement.classList.add("a9mch"),a=o[0],document.addEventListener("keydown",m),e.style.display="block",document.addEventListener("keydown",p)},s=(document.getElementById("p3lf8").addEventListener("pointerdown",()=>l(y.split(""))),(e,t,n)=>{let o=a.textContent.charCodeAt(0);(o+=e)===t&&(o=n),a.textContent=String.fromCharCode(o)}),c=(document.querySelectorAll(".c3mk8").forEach(e=>{e.addEventListener("pointerdown",()=>{s(-1,64,90)})}),document.querySelectorAll(".cld23").forEach(e=>{e.addEventListener("pointerdown",()=>{s(1,91,65)})}),o.forEach(e=>e.parentElement.addEventListener("pointerdown",()=>{console.log(e.id,e.classList),e.parentElement.classList.contains("a9mch")||(o.forEach(e=>e.parentElement.classList.remove("a9mch")),(a=e).parentElement.classList.add("a9mch"))})),["s0f6m","d9mg4","l0f74"]),d=e=>{let t=c.indexOf(a.id);3===(t=-1===(t+=e)?2:t)&&(t=0),o.forEach(e=>e.parentElement.classList.remove("a9mch")),(a=document.getElementById(c[t])).parentElement.classList.add("a9mch")},m=e=>{"ArrowLeft"===e.key?d(-1):"ArrowRight"===e.key?d(1):"ArrowUp"===e.key?s(-1,64,90):"ArrowDown"===e.key?s(1,91,65):/^[a-zA-Z]$/.test(e.key)&&(a.textContent=e.key.toUpperCase(),d(1))},i=(n.addEventListener("pointerdown",()=>{y=t.textContent.split("").filter(e=>" "!==e).join(""),0<=E.indexOf(y)?document.getElementById("s0f5m").style.display="block":(document.getElementById("s0f5m").style.display="none",localStorage.setItem("ply3r",y),i.textContent=y,document.removeEventListener("keydown",m),u||document.removeEventListener("keydown",p),o.forEach(e=>e.parentElement.classList.remove("a9mch")),e.style.display="none")}),document.querySelector("#p2ls9 #d9ng5"));(y=localStorage.getItem("ply3r"))?i.textContent=y:l(["A","A","A"])};const g=e=>{document.querySelectorAll(".r4nkr").forEach(e=>e.remove());const n=r[e-1].scores;n.forEach((e,t)=>{e.rank=e.rank||t+1,0<t&&n[t-1].score===e.score&&(e.rank=n[t-1].rank);var t=`
        <tr class="r4nkr">
          <td>${("0"+e.rank).slice(-2)}</td>
          <td>${e.name}</td>
          <td>${e.score}</td>
        </tr>`;document.getElementById("s0gj7").firstElementChild.insertAdjacentHTML("beforeend",t)}),document.getElementById("b1k8f").classList.remove("lw8gm")};var f=()=>{const t=[];r.forEach(e=>{var e=new URL("https://script.google.com/macros/s/AKfycbzROM9yHlsQvFuDKnxJQVeI1uyGPK-yj9ZePWO1WRVgc2Jx1E1CWl0Ew7FadYgWSVXELQ/exec?game="+e.name);t.push(fetch(e))}),Promise.all(t).then(e=>{let n=0;e.forEach((e,t)=>{e.json().then(e=>{e.forEach(e=>{r[t].scores.push({name:e.name,score:e.score,rank:0,timestamp:e.timestamp})}),++n===r.length&&g(l)})})})};t(!1,0,!1),f(),i(),null==localStorage.getItem("gu1d3")&&localStorage.setItem("gu1d3",JSON.stringify({}));